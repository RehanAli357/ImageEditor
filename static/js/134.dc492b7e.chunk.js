(self.webpackChunkimage_editor=self.webpackChunkimage_editor||[]).push([[134],{1714:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return v}});var i=t(3433),s=t(4165),a=t(5861),c=t(9439),o=t(2791),r=t(6882),l=t(7689),u=t(3050),d=t(1313),h=t(6934),f=t(184),v=function(){var n=(0,o.useState)(""),e=(0,c.Z)(n,2),v=e[0],m=e[1],g=(0,o.useState)([]),p=(0,c.Z)(g,2),b=p[0],x=p[1],C=(0,o.useState)(""),j=(0,c.Z)(C,2),k=j[0],w=j[1],y=(0,o.useState)(""),Z=(0,c.Z)(y,2),_=Z[0],A=Z[1],L=(0,o.useState)(!0),P=(0,c.Z)(L,2),S=P[0],T=P[1],Y=(0,o.useState)("flex"),I=(0,c.Z)(Y,2),N=I[0],R=I[1],X=(0,o.useContext)(d.Z).isLogin,D=(0,o.useState)(!0),E=(0,c.Z)(D,1)[0],F=(0,r.f)(),O=F.editor,U=F.onReady,V=(0,l.UO)(),G=(0,l.s0)();console.log(),(0,o.useEffect)((function(){var n=function(){var n=(0,a.Z)((0,s.Z)().mark((function n(){var e,t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,S&&R("inline-block"),n.next=4,fetch("https://api.unsplash.com/photos/".concat(V.id,"?&client_id=").concat(h.R));case 4:return e=n.sent,n.next=7,e.json();case 7:t=n.sent,m(t.urls.full),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),alert("Unable To Fetch Data"),G(-1);case 15:return n.prev=15,T(!1),R("none"),n.finish(15);case 19:case"end":return n.stop()}}),n,null,[[0,11,15,19]])})));return function(){return n.apply(this,arguments)}}();n()}),[V,G]),(0,o.useEffect)((function(){O&&u.fabric&&(E?O.canvas.__eventListeners={}:(O.canvas.__eventListeners["mouse:wheel"]||O.canvas.on("mouse:wheel",(function(n){var e=n.e.deltaY,t=O.canvas.getZoom();(t*=Math.pow(.999,e))>20&&(t=20),t<.01&&(t=.01),O.canvas.zoomToPoint({x:n.e.offsetX,y:n.e.offsetY},t),n.e.preventDefault(),n.e.stopPropagation()})),O.canvas.__eventListeners["mouse:down"]||O.canvas.on("mouse:down",(function(n){var e=n.e;!0===e.ctrlKey&&(this.isDragging=!0,this.selection=!1,this.lastPosX=e.clientX,this.lastPosY=e.clientY)})),O.canvas.__eventListeners["mouse:move"]||O.canvas.on("mouse:move",(function(n){if(this.isDragging){var e=n.e,t=this.viewportTransform;t[4]+=e.clientX-this.lastPosX,t[5]+=e.clientY-this.lastPosY,this.requestRenderAll(),this.lastPosX=e.clientX,this.lastPosY=e.clientY}})),O.canvas.__eventListeners["mouse:up"]||O.canvas.on("mouse:up",(function(){this.setViewportTransform(this.viewportTransform),this.isDragging=!1,this.selection=!0})),O.canvas.renderAll()))}),[O,E]);(0,o.useEffect)((function(){O&&u.fabric&&(O.canvas.setHeight(500),O.canvas.setWidth(500),O&&u.fabric&&u.fabric.Image.fromURL(v,(function(n){n.scaleToWidth(O.canvas.width),O.canvas.setBackgroundImage(n,O.canvas.renderAll.bind(O.canvas))})),O.canvas.renderAll())}),[null===O||void 0===O?void 0:O.canvas.backgroundImage]);return(0,o.useEffect)((function(){!1===X?(G("/Login"),alert("Kindly Login")):x((function(n){return[].concat((0,i.Z)(n),["image"])}))}),[X,G]),(0,f.jsx)(o.Fragment,{children:(0,f.jsxs)("div",{className:"ImageCanva",children:[(0,f.jsx)("h1",{children:"Add Image Caption"}),(0,f.jsxs)("div",{className:"ImgCanvaCard ",children:[(0,f.jsx)("div",{className:"ImgCanvaCardPic",children:S?(0,f.jsx)(o.Fragment,{children:(0,f.jsx)("div",{className:"lds-circle",style:{display:{isdisplay:N}},children:(0,f.jsx)("div",{})})}):(0,f.jsx)(o.Fragment,{children:(0,f.jsx)(r.O,{className:"canvas",id:"cv",onReady:U})})}),(0,f.jsxs)("div",{className:"CanvasOption",children:[(0,f.jsxs)("div",{className:"CaptionTag",children:[(0,f.jsx)("input",{type:"text",placeholder:"Add Caption",value:k,onChange:function(n){w(n.target.value),A(n.target.value)}}),(0,f.jsx)("button",{onClick:function(){t.e(522).then(t.bind(t,4522)).then((function(n){return n.addText(A,_,O,w,k,x)}))},disabled:!E,children:"Add Caption"})]}),(0,f.jsx)("button",{name:"circle",onClick:function(){t.e(397).then(t.bind(t,1397)).then((function(n){return n.addCircle(O,x)}))},children:"Add circle"}),(0,f.jsx)("button",{onClick:function(){t.e(397).then(t.bind(t,1397)).then((function(n){return n.addTriangle(O,x)}))},children:"Add Triangle"}),(0,f.jsx)("button",{onClick:function(){t.e(397).then(t.bind(t,1397)).then((function(n){return n.addRect(O,x)}))},children:"Add Rectangle"}),(0,f.jsx)("button",{onClick:function(){t.e(397).then(t.bind(t,1397)).then((function(n){return n.addPolygon(O,x)}))},children:"Add Polygon"}),(0,f.jsx)("button",{onClick:function(){t.e(212).then(t.bind(t,2212)).then((function(n){return n.removeAll(O,x,A)}))},disabled:!E,children:"Clear"}),(0,f.jsx)("button",{onClick:function(){t.e(212).then(t.bind(t,2212)).then((function(n){return n.removeSelectedObj(O)}))},disabled:!E,children:"Delete"}),(0,f.jsxs)("button",{onClick:function(){t.e(770).then(t.bind(t,770)).then((function(n){return n.exportSVG(O)}))},id:"dwnld",disabled:!E,children:[" ","ToSVG"]}),(0,f.jsxs)("button",{onClick:function(){t.e(842).then(t.bind(t,842)).then((function(n){return n.showLayers(b)}))},children:[" ","ShowLayers"]})]})]})]})})}},4960:function(){},6759:function(){},6272:function(){}}]);
//# sourceMappingURL=134.dc492b7e.chunk.js.map